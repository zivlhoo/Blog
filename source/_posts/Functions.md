title: 函数
date: 2015-06-06 12:44:19
tags: [函数,输入输出参数,默认参数,可变参数]
categories: [Swift]

---

函数介绍

##函数的定义与调用

函数包括`参数`,`返回值`，`函数名称`，使用函数名“调用”，并传给它匹配的参数。

```
func sayHello(name:String)-> String{
	return name + " hello!"
}
```

以`func`开头 ->返回类型 如无返回值省略这部分即可，虽然没有返回值定义，但是函数依然返回了了值。返回了特殊的值，叫Void。它其实是一个空得元祖().

与C语言不同，Swift可以利用元组作为多重返回值。元组不需要在函数中返回时命名，因为返回类型已经定义了。

##函数参数名称
上面定义的函数中的参数只能在函数体中使用，不能在函数调用中使用。`局部参数名`

`外部参数名`作用

只要在`局部参数名`前再加一个名称及`外部参数名`之间用空格隔开。调用时也必须写上外部参数名。

如果外部参数名与局部参数名一样在局部变量名前面加`#`即可

使用场景，如果代码不能明显的表达出参数的意图是，可以考虑使用外部参数名。反之就不需要了。

##默认参数值

在数据类型后面加上 ` = value`

建议把默认参数放在参数列表的末尾，这样可以保证在函数调用时，非默认参数的顺序是一致的。

默认参数 Swift会自动生成外部参数名，不需要额外设置外部参数名否则会警告

可以使用`_`作为默认参数的外部参数名，这样可以在调用时不提供外部参数名。

##可变参数

可变参数可以接受一个或多个值。通过在参数类型后面加入`...`的方式来定义可变参数

一个函数内至多能有一个可变参数，而且它必须是参数表中最后的一个。以免函数调用时出现歧义。

他们的位置参考：`普通参数` > `默认参数`> `可变参数`


##常量参数和变量参数

函数参数默认是常量。如果尝试修改函数参数将会导致编译错误。

通过在参数名前加var来定义变量参数。函数中对变量参数的修改也只是在函数中有效

##输入输出参数

如果你想在函数中修改一个参数，并且在函数调用结束后修改任然有效。`输入输出参数`

使用`inout`定义`输入输出参数`

###使用要点

1. 只能用变量作为`输入输出参数`。不能使用常量或者字面量，因为这些变量是不能被修改的。
2. 调用函数时需要在变量名前加`&`符，表示这个值可以被函数修改。
3. 不能有`默认值`，也不可修饰`可变参数`；也不能与`var`或`let`共存。

##函数类型

函数类型由函数的参数类型和返回类型组成。

例如：

```
func test(name:String,age:Int)->String{
	return ""
}
```
它的函数类型是

```
(String,Int)->String
```

无参数无返回值的函数类型

```
()->()
```

###使用函数类型

```
var firstFunc :(String,Int)->String = test

//当然可以使用自动推断

var firstFunc = test
```

##函数作为参数类型

```
func test(fun:(Int,Int)->Int,a:Int,b:Int){
    println("\(fun(a,b))")
}
```

##函数作为返回类型

```
func fun1(num:Int)->Int{
    return num + 1
}

func fun2(num:Int)->Int{
    return num - 1
}

func test(b:Bool)->(Int)->Int{
    return b ? fun1 : fun2
}

println(test(true)(10))
```

##嵌套函数

把一个函数定义在另一个函数中，就叫做嵌套函数。

默认情况下，嵌套函数无法被外界访问，但是可以被他们的`封闭函数`调用。`封闭函数`也可以返回`嵌套函数`使得嵌套函数可以外界使用。





