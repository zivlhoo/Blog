title: 类和结构体
date: 2015-06-07 12:02:51
tags: [类,结构体]
categories: [Swift]

---

##类与结构对比
+ 共同点

	1. 定义属性用户存储值
	2. 定义方法用于提供功能
	3. 定义附属脚本用于访问值
	4. 定义构造器用于生成初始化
	5. 通过扩展以增加默认实现的功能
	6. 复合协议以对某类提供标准功能
	
与结构相比，类还有如下的附加功能

1. 继承
2. 类型转换允许在运行时检查和解释一个类实例的类型
3. 解构器允许一个类实例释放任何其所被分配的资源
4. 引用计数允许对一个类的多次引用

`NOTE`:结构总是通过被复制的方式在代码中传递，因此请不要使用引用计数。

##定义

通过`class`和`struct`来分别表示类和结构体，并在一对大括号中定义他们的具体内容。

UpperCamelCase命名类型

lowerCamelCase命名属性和方法

##类和结构体的实例

类和结构都使用构造器来生成新的实例。构造器的最简单形式是在类或结构的类型名称后跟随一个括号。其属性均会被初始化为默认值。

```
struct Person{
	var name = ""
	var age = 10
}
```

##属性访问

通过使用点语法，你可以使访问实例中所含有的属性。

##结构体的成员逐一构造器

结构体都有一个自动生成的成员逐一构造器，用于初始化新结构实例中成员的属性。

```
var p = Person(name:"test",age:10)
```

与结构体不同，类实例没有默认的成员逐一构造器。

##结构和枚举是值类型


##类是引用类型

##恒等运算符

+ 等价于===
+ 不等价与！==

`NOTE`等价于`===`与等于`==`的不同

+ “等价于”表示两个类型的常量或者变量引用同一个类对戏
+ “等于”表示两个实例的值相等，判定时会遵照类设计者定义的评判标准。

##指针


##类和结构体的选择

按照通用的准则，当符合一条或多条以下条件时，请考虑建结构体

+ 结构体的主要目的是用来封装少量相关简单数据值。
+ 有理由预计一个结构体变量在赋值或者传递时，封装的数据会被拷贝而不是引用。
+ 任何结构体中存储的值类型属性，也会被拷贝而不是被引用。
+ 结构体不需要继承另一个已存在类型的属性或者行为。

合适的结构体候选者包括：

+ 几何形状的大小，封装一个`width`属性和`height`属性，两者均为`Double`类型。
+ 一定范围内的路径，封装`start`属性和`length`属性，两者均为Int类型。
+ 三维坐标系内一点，封装x,y和z属性，三者均为`Double`类型。

所有其他案例中，定义一个类，生成一个它的实例，并通过引用来管理和传递。实际这意味着绝大部分的自定义数据结构都应该是类，而非结构体。

Swift中字符串，数组和字典类型均一结构体的形式实现。




